<div class="min-h-svh bg-layer text-black flex flex-col">
  <!-- HEADER -->
  <header
    class="relative bg-primary text-white px-5 pt-6 pb-16 overflow-hidden"
  >
    <div class="mx-auto max-w-md">
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-3">
          <div
            class="h-10 w-10 rounded-full ring-2 ring-white/40 bg-white/20 flex items-center justify-center text-white font-semibold select-none"
          >
            <span>J</span>
          </div>
          <div class="text-sm font-medium truncate">{{ userName }}</div>
        </div>

        <button
          aria-label="Notificações"
          class="p-2 rounded-full bg-white/10 hover:bg-white/15 active:bg-white/20 transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/60"
        >
          <!-- Bell icon -->
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            class="h-6 w-6"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M14.86 17.21a4 4 0 0 1-5.72 0M18 8a6 6 0 1 0-12 0c0 7-3 7-3 7h18s-3 0-3-7"
            />
          </svg>
        </button>
      </div>
    </div>

    <!-- decor -->
    <div
      class="pointer-events-none absolute -top-10 -left-10 h-40 w-40 rounded-full bg-white/10 blur-2xl"
    ></div>
    <div
      class="pointer-events-none absolute -bottom-16 right-0 h-52 w-52 rounded-full bg-white/10 blur-3xl"
    ></div>
  </header>

  <!-- MAIN (card flutuando) -->
  <main
    class="flex-1 bg-secondary rounded-t-3xl relative z-10 -mt-10 md:-mt-12"
  >
    <div class="mx-auto max-w-md">
      <router-outlet></router-outlet>
    </div>
  </main>

  <!-- BOTTOM NAV + FAB -->
  <nav
    class="fixed inset-x-0 bottom-0 md:bottom-6 z-50"
    style="padding-bottom: env(safe-area-inset-bottom)"
    role="tablist"
    aria-label="Navegação principal"
  >
    <div class="relative mx-auto max-w-md">
      <div
        class="h-26 bg-layer pb-10 backdrop-blur flex items-center justify-around border border-black/5"
      >
        <!-- Home -->
        <a
          routerLink="/"
          routerLinkActive="text-primary font-medium"
          [routerLinkActiveOptions]="{ exact: true }"
          class="flex flex-col items-center gap-1 text-description hover:text-black/80 transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/30 rounded-lg px-3 py-2"
          aria-current="page"
        >
          <mat-icon class="!text-[24px] leading-none">home</mat-icon>
          <span class="text-[11px]">Início</span>
        </a>

        <!-- Stats -->
        <a
          routerLink="/stats"
          routerLinkActive="text-primary font-medium"
          class="flex flex-col items-center gap-1 text-description hover:text-black/80 transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/30 rounded-lg px-3 py-2"
        >
          <mat-icon class="!text-[24px] leading-none">bar_chart</mat-icon>
          <span class="text-[11px]">Gráficos</span>
        </a>

        <!-- Espaço para FAB -->
        <div class="w-12"></div>

        <!-- Histórico -->
        <a
          routerLink="/history"
          routerLinkActive="text-primary font-medium"
          class="flex flex-col items-center gap-1 text-description hover:text-black/80 transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/30 rounded-lg px-3 py-2"
        >
          <mat-icon class="!text-[24px] leading-none">history</mat-icon>
          <span class="text-[11px]">Histórico</span>
        </a>

        <!-- Perfil -->
        <a
          routerLink="/profile"
          routerLinkActive="text-primary font-medium"
          class="flex flex-col items-center gap-1 text-description hover:text-black/80 transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/30 rounded-lg px-3 py-2"
        >
          <mat-icon class="!text-[24px] leading-none">person</mat-icon>
          <span class="text-[11px]">Perfil</span>
        </a>
      </div>

      <!-- FAB central -->
      <button
        aria-label="Adicionar"
        class="absolute -top-6 left-1/2 -translate-x-1/2 h-14 w-14 rounded-full bg-primary text-white shadow-xl ring-4 ring-secondary flex items-center justify-center active:scale-95 transition focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-primary/40"
      >
        <span class="text-2xl leading-none">+</span>
      </button>
    </div>
  </nav>
</div>
