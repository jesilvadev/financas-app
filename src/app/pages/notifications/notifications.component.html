<div class="pb-14 font-inter h-full flex flex-col">
  <div class="w-full max-w-md mx-auto flex-1 flex flex-col">
    <!-- Cabeçalho (padrão recorrentes, fixo) -->
    <header
      class="flex items-center justify-center pb-2 py-12 sticky top-0 z-10 bg-primary"
      aria-label="Cabeçalho de notificações"
    >
      <button
        type="button"
        (click)="voltar()"
        class="absolute left-0 px-3 py-1 rounded-full transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40"
        aria-label="Voltar"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="#ffffff"
        >
          <path d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z" />
        </svg>
      </button>
      <h1 class="text-lg font-semibold text-white text-center truncate">
        Notificações
      </h1>
    </header>

    <!-- Conteúdo -->
    <section class="flex-1 overflow-y-auto space-y-4 pb-10">
      <div *ngIf="loading" class="text-center text-xs text-description py-8">
        Carregando notificações...
      </div>

      <ng-container *ngIf="!loading">
        <ng-container *ngIf="alertasFiltrados.length > 0; else semNotificacoes">
          <div
            class="rounded-sm border border-black/5 bg-white overflow-hidden"
          >
            <article
              *ngFor="let alerta of alertasFiltrados"
              class="px-5 py-2 flex h-32 items-center justify-center transition border-b last:border-b-0"
              [ngClass]="isNovo(alerta) ? 'bg-secondary/80' : 'bg-white'"
            >
              <div class="flex-1 min-w-0 space-y-1">
                <h3 class="text-sm font-semibold text-black truncate">
                  {{ getTipoAlertaMetadata(alerta.tipo).nome }}
                </h3>

                <p class="text-xs text-description">
                  {{ alerta.mensagem }}
                </p>

                <div
                  class="flex items-center justify-between text-[11px] text-description"
                >
                  <span>
                    {{ alerta.dataCriacao | date : "dd MMM yyyy HH:mm" }}
                  </span>
                  <!-- <span
                    class="inline-flex items-center w-14 py-1 rounded-full justify-center text-[10px] font-medium"
                    [ngClass]="
                      getSeveridadeMetadata(alerta.severidade).color === 'warn'
                        ? 'bg-red-100 text-red-700'
                        : getSeveridadeMetadata(alerta.severidade).color ===
                          'accent'
                        ? 'bg-yellow-100 text-yellow-700'
                        : 'bg-blue-100 text-blue-700'
                    "
                  >
                    <span class="truncate">
                      {{ getSeveridadeMetadata(alerta.severidade).label }}
                    </span>
                  </span> -->
                </div>
              </div>
            </article>
          </div>
        </ng-container>
      </ng-container>

      <ng-template #semNotificacoes>
        <div
          class="text-center py-12 text-description font-semibold text-base bg-white rounded-2xl border border-dashed border-gray-200"
        >
          <mat-icon class="text-4xl text-gray-300 mb-2"
            >notifications_off</mat-icon
          >
          <p>Nenhuma notificação encontrada.</p>
        </div>
      </ng-template>
    </section>
  </div>
</div>
