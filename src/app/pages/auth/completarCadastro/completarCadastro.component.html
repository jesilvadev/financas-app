<section class="min-h-screen flex justify-center pl-4 pr-4 pt-24 bg-secondary">
  <div class="w-full max-w-md flex flex-col gap-6">
    <div *ngIf="errorMessage" class="flex flex-col gap-2 text-sm">
      <p>{{ errorMessage }}</p>
    </div>

    <div *ngIf="currentStep < 4" class="flex justify-end gap-2 pr-2">
      <span
        class="h-2 w-2 rounded-full"
        [class.bg-primary]="currentStep === 0"
        [class.border]="currentStep !== 0"
      ></span>
      <span
        class="h-2 w-2 rounded-full"
        [class.bg-primary]="currentStep === 1"
        [class.border]="currentStep !== 1"
      ></span>
      <span
        class="h-2 w-2 rounded-full"
        [class.bg-primary]="currentStep === 2"
        [class.border]="currentStep !== 2"
      ></span>
      <span
        class="h-2 w-2 rounded-full"
        [class.bg-primary]="currentStep === 3"
        [class.border]="currentStep !== 3"
      ></span>
    </div>

    <app-completar-cadastro-intro
      *ngIf="currentStep === 0"
      (next)="onIntroNext()"
    ></app-completar-cadastro-intro>

    <div *ngIf="categoriasLoading" class="text-center text-sm text-description">
      Carregando categorias...
    </div>
    <div *ngIf="categoriasError" class="text-center text-sm text-error">
      {{ categoriasError }}
    </div>

    <app-step1
      *ngIf="currentStep === 1"
      (next)="onStep1Next($event)"
      (back)="onStep1Back()"
      [categorias]="categoriasReceita"
    ></app-step1>

    <app-step2
      *ngIf="currentStep === 2"
      (next)="onStep2Next($event)"
      (back)="onStep2Back()"
      [categorias]="categoriasDespesa"
    ></app-step2>

    <app-step3
      *ngIf="currentStep === 3"
      (next)="onStep3Next($event)"
      (back)="onStep3Back()"
      [isLoading]="isLoading"
    ></app-step3>

    <app-conclusao *ngIf="currentStep === 4"></app-conclusao>
  </div>
</section>
